<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>íƒ€ì´í•‘ ê²Œì„</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            min-height: 100vh;
            overflow: hidden;
        }

        .game-container {
            width: 100%;
            max-width: 800px;
            height: 100vh;
            margin: 0 auto;
            position: relative;
            background: rgba(0, 0, 0, 0.3);
            border-left: 2px solid #0f3460;
            border-right: 2px solid #0f3460;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.5);
            color: #fff;
            font-size: 18px;
        }

        .score {
            color: #00d9ff;
            font-weight: bold;
        }

        .lives {
            color: #ff6b6b;
            font-weight: bold;
        }

        .level {
            color: #4ade80;
            font-weight: bold;
        }

        .game-area {
            width: 100%;
            height: calc(100vh - 130px);
            position: relative;
            overflow: hidden;
        }

        .word {
            position: absolute;
            padding: 8px 16px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            border-radius: 20px;
            font-size: 18px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
            transition: transform 0.1s;
            white-space: nowrap;
        }

        .word.matched {
            background: linear-gradient(135deg, #4ade80 0%, #22c55e 100%);
            transform: scale(1.1);
        }

        .word.partial {
            background: linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%);
        }

        .input-area {
            position: absolute;
            bottom: 0;
            width: 100%;
            padding: 15px 20px;
            background: rgba(0, 0, 0, 0.7);
            display: flex;
            gap: 10px;
        }

        .input-area input {
            flex: 1;
            padding: 15px 20px;
            font-size: 20px;
            border: none;
            border-radius: 30px;
            background: #fff;
            outline: none;
            color: #333;
        }

        .input-area input:focus {
            box-shadow: 0 0 20px rgba(0, 217, 255, 0.5);
        }

        .danger-zone {
            position: absolute;
            bottom: 80px;
            width: 100%;
            height: 3px;
            background: linear-gradient(90deg, transparent, #ff6b6b, transparent);
            box-shadow: 0 0 20px #ff6b6b;
        }

        .start-screen, .game-over-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            color: #fff;
            z-index: 100;
        }

        .start-screen h1, .game-over-screen h1 {
            font-size: 48px;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .start-screen p, .game-over-screen p {
            font-size: 18px;
            margin-bottom: 30px;
            color: #aaa;
            text-align: center;
            line-height: 1.6;
        }

        .final-score {
            font-size: 24px;
            color: #00d9ff;
            margin-bottom: 20px;
        }

        .btn {
            padding: 15px 40px;
            font-size: 20px;
            border: none;
            border-radius: 30px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #fff;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .btn:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.5);
        }

        .hidden {
            display: none !important;
        }

        .combo {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 36px;
            font-weight: bold;
            color: #fbbf24;
            text-shadow: 0 0 20px #fbbf24;
            animation: comboFade 1s forwards;
            pointer-events: none;
        }

        @keyframes comboFade {
            0% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
            100% { opacity: 0; transform: translate(-50%, -100%) scale(1.5); }
        }

        .effect {
            position: absolute;
            pointer-events: none;
            animation: explode 0.5s forwards;
        }

        @keyframes explode {
            0% { opacity: 1; transform: scale(1); }
            100% { opacity: 0; transform: scale(2); }
        }

        .player-name-input {
            padding: 10px 20px;
            font-size: 16px;
            border: none;
            border-radius: 20px;
            background: #fff;
            outline: none;
            color: #333;
            margin-bottom: 15px;
            width: 200px;
            text-align: center;
        }

        .leaderboard {
            margin-top: 20px;
            width: 300px;
            max-height: 200px;
            overflow-y: auto;
        }

        .leaderboard h3 {
            color: #fbbf24;
            margin-bottom: 10px;
            font-size: 18px;
        }

        .leaderboard-item {
            display: flex;
            justify-content: space-between;
            padding: 8px 12px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 8px;
            margin-bottom: 5px;
            font-size: 14px;
        }

        .leaderboard-item.highlight {
            background: rgba(102, 126, 234, 0.3);
            border: 1px solid #667eea;
        }

        .leaderboard-item .rank {
            color: #fbbf24;
            font-weight: bold;
            width: 30px;
        }

        .leaderboard-item .name {
            flex: 1;
            text-align: left;
            margin-left: 10px;
        }

        .leaderboard-item .score {
            color: #00d9ff;
            font-weight: bold;
        }

        .save-status {
            font-size: 12px;
            color: #4ade80;
            margin-top: 10px;
        }

        .save-status.error {
            color: #ff6b6b;
        }

        .btn-secondary {
            padding: 10px 25px;
            font-size: 14px;
            border: none;
            border-radius: 20px;
            background: rgba(255, 255, 255, 0.2);
            color: #fff;
            cursor: pointer;
            transition: background 0.2s;
            margin-top: 10px;
        }

        .btn-secondary:hover {
            background: rgba(255, 255, 255, 0.3);
        }
    </style>
</head>
<body>
    <div class="game-container">
        <div class="header">
            <div class="score">ì ìˆ˜: <span id="score">0</span></div>
            <div class="level">ë ˆë²¨: <span id="level">1</span></div>
            <div class="lives">ìƒëª…: <span id="lives">â™¥â™¥â™¥</span></div>
        </div>

        <div class="game-area" id="gameArea">
            <div class="danger-zone"></div>
        </div>

        <div class="input-area">
            <input type="text" id="typingInput" placeholder="ì—¬ê¸°ì— ë‹¨ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." autocomplete="off">
        </div>

        <div class="start-screen" id="startScreen">
            <h1>íƒ€ì´í•‘ ê²Œì„</h1>
            <p>ë–¨ì–´ì§€ëŠ” ë‹¨ì–´ë¥¼ íƒ€ì´í•‘í•´ì„œ ì—†ì• ì„¸ìš”!<br>ë‹¨ì–´ê°€ ë°”ë‹¥ì— ë‹¿ìœ¼ë©´ ìƒëª…ì´ ì¤„ì–´ë“­ë‹ˆë‹¤.</p>
            <button class="btn" id="startBtn">ê²Œì„ ì‹œì‘</button>
        </div>

        <div class="game-over-screen hidden" id="gameOverScreen">
            <h1>ê²Œì„ ì˜¤ë²„</h1>
            <div class="final-score">ìµœì¢… ì ìˆ˜: <span id="finalScore">0</span></div>
            <p>ìµœê³  ê¸°ë¡: <span id="highScore">0</span></p>
            <input type="text" class="player-name-input" id="playerNameInput" placeholder="ì´ë¦„ì„ ì…ë ¥í•˜ì„¸ìš”" maxlength="20">
            <button class="btn" id="saveScoreBtn">ê¸°ë¡ ì €ì¥</button>
            <div class="save-status hidden" id="saveStatus"></div>
            <button class="btn" id="restartBtn" style="margin-top: 10px;">ë‹¤ì‹œ ì‹œì‘</button>
            <div class="leaderboard" id="leaderboard">
                <h3>ğŸ† ë¦¬ë”ë³´ë“œ</h3>
                <div id="leaderboardList"></div>
            </div>
        </div>
    </div>

    <script>
        // Supabase ì„¤ì •
        const SUPABASE_URL = 'https://evmgztjoipktgroexamd.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImV2bWd6dGpvaXBrdGdyb2V4YW1kIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzAyODI5NjYsImV4cCI6MjA4NTg1ODk2Nn0.XYqYjIi1JLpiqJsGi2pFKFJqJ-pbZefnrpIUiO4XxJs';

        const words = [
            // ì‰¬ìš´ ë‹¨ì–´ (ë ˆë²¨ 1-2)
            'ì‚¬ê³¼', 'ë°”ë‚˜ë‚˜', 'í¬ë„', 'ë”¸ê¸°', 'ìˆ˜ë°•', 'ì°¸ì™¸', 'ë³µìˆ­ì•„', 'ë°°', 'ê°', 'ê·¤',
            'í•˜ëŠ˜', 'ë°”ë‹¤', 'ì‚°', 'ê°•', 'ìˆ²', 'ê½ƒ', 'ë‚˜ë¬´', 'êµ¬ë¦„', 'ë³„', 'ë‹¬',
            'ê³ ì–‘ì´', 'ê°•ì•„ì§€', 'í† ë¼', 'ìƒˆ', 'ë¬¼ê³ ê¸°', 'í˜¸ë‘ì´', 'ì‚¬ì', 'ê³°', 'ì—¬ìš°', 'ëŠ‘ëŒ€',
            // ì¤‘ê°„ ë‹¨ì–´ (ë ˆë²¨ 3-4)
            'ì»´í“¨í„°', 'í‚¤ë³´ë“œ', 'ë§ˆìš°ìŠ¤', 'ëª¨ë‹ˆí„°', 'ìŠ¤í”¼ì»¤', 'í”„ë¦°í„°', 'ë…¸íŠ¸ë¶', 'íƒœë¸”ë¦¿',
            'í”„ë¡œê·¸ë¨', 'ì¸í„°ë„·', 'ì†Œí”„íŠ¸ì›¨ì–´', 'í•˜ë“œì›¨ì–´', 'ë„¤íŠ¸ì›Œí¬', 'ë°ì´í„°ë² ì´ìŠ¤',
            'ìë™ì°¨', 'ë¹„í–‰ê¸°', 'ê¸°ì°¨', 'ìì „ê±°', 'ì˜¤í† ë°”ì´', 'í—¬ë¦¬ì½¥í„°', 'ì ìˆ˜í•¨',
            // ì–´ë ¤ìš´ ë‹¨ì–´ (ë ˆë²¨ 5+)
            'í”„ë¡œê·¸ë˜ë°', 'ì•Œê³ ë¦¬ì¦˜', 'ìë£Œêµ¬ì¡°', 'ìš´ì˜ì²´ì œ', 'ì»´íŒŒì¼ëŸ¬', 'ì¸ê³µì§€ëŠ¥',
            'ë¸”ë¡ì²´ì¸', 'í´ë¼ìš°ë“œ', 'ë¹…ë°ì´í„°', 'ì‚¬ì´ë²„ë³´ì•ˆ', 'ë¨¸ì‹ ëŸ¬ë‹', 'ë”¥ëŸ¬ë‹',
            'ì•„ì´ìŠ¤í¬ë¦¼', 'í–„ë²„ê±°', 'ìŠ¤íŒŒê²Œí‹°', 'ìƒŒë“œìœ„ì¹˜', 'ì¹˜ì¦ˆì¼€ì´í¬', 'ì´ˆì½œë¦¿',
            // ì˜ì–´ ë‹¨ì–´
            'apple', 'banana', 'computer', 'keyboard', 'program', 'internet',
            'javascript', 'python', 'coding', 'developer', 'software', 'hardware',
            'game', 'player', 'score', 'level', 'typing', 'speed', 'fast', 'slow'
        ];

        class TypingGame {
            constructor() {
                this.gameArea = document.getElementById('gameArea');
                this.typingInput = document.getElementById('typingInput');
                this.scoreDisplay = document.getElementById('score');
                this.levelDisplay = document.getElementById('level');
                this.livesDisplay = document.getElementById('lives');
                this.startScreen = document.getElementById('startScreen');
                this.gameOverScreen = document.getElementById('gameOverScreen');
                this.finalScoreDisplay = document.getElementById('finalScore');
                this.highScoreDisplay = document.getElementById('highScore');
                this.startBtn = document.getElementById('startBtn');
                this.restartBtn = document.getElementById('restartBtn');
                this.playerNameInput = document.getElementById('playerNameInput');
                this.saveScoreBtn = document.getElementById('saveScoreBtn');
                this.saveStatus = document.getElementById('saveStatus');
                this.leaderboardList = document.getElementById('leaderboardList');

                this.score = 0;
                this.lives = 3;
                this.level = 1;
                this.combo = 0;
                this.activeWords = [];
                this.gameLoop = null;
                this.spawnLoop = null;
                this.isPlaying = false;
                this.highScore = localStorage.getItem('typingGameHighScore') || 0;
                this.playerName = localStorage.getItem('typingGamePlayerName') || '';

                // Supabase í´ë¼ì´ì–¸íŠ¸ ì´ˆê¸°í™”
                this.supabase = null;
                this.initSupabase();

                this.bindEvents();
            }

            initSupabase() {
                if (SUPABASE_URL !== 'YOUR_SUPABASE_URL' && SUPABASE_ANON_KEY !== 'YOUR_SUPABASE_ANON_KEY') {
                    try {
                        this.supabase = supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                        console.log('Supabase ì—°ê²° ì„±ê³µ');
                    } catch (error) {
                        console.error('Supabase ì´ˆê¸°í™” ì˜¤ë¥˜:', error);
                    }
                } else {
                    console.log('Supabase ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤. SUPABASE_URLê³¼ SUPABASE_ANON_KEYë¥¼ ì„¤ì •í•˜ì„¸ìš”.');
                }
            }

            bindEvents() {
                this.startBtn.addEventListener('click', () => this.startGame());
                this.restartBtn.addEventListener('click', () => this.startGame());
                this.typingInput.addEventListener('input', (e) => this.checkInput(e.target.value));
                this.saveScoreBtn.addEventListener('click', () => this.saveScore());

                // í”Œë ˆì´ì–´ ì´ë¦„ ì…ë ¥ í•„ë“œ ì´ˆê¸°ê°’ ì„¤ì •
                if (this.playerName) {
                    this.playerNameInput.value = this.playerName;
                }
            }

            async saveScore() {
                const playerName = this.playerNameInput.value.trim();

                if (!playerName) {
                    this.showSaveStatus('ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.', true);
                    return;
                }

                if (!this.supabase) {
                    this.showSaveStatus('Supabaseê°€ ì„¤ì •ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.', true);
                    return;
                }

                // í”Œë ˆì´ì–´ ì´ë¦„ ì €ì¥
                localStorage.setItem('typingGamePlayerName', playerName);
                this.playerName = playerName;

                this.saveScoreBtn.disabled = true;
                this.showSaveStatus('ì €ì¥ ì¤‘...');

                try {
                    const { data, error } = await this.supabase
                        .from('game_history')
                        .insert([
                            {
                                player_name: playerName,
                                score: this.score,
                                level: this.level,
                                played_at: new Date().toISOString()
                            }
                        ]);

                    if (error) throw error;

                    this.showSaveStatus('ê¸°ë¡ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤!');
                    this.loadLeaderboard();
                } catch (error) {
                    console.error('ì €ì¥ ì˜¤ë¥˜:', error);
                    this.showSaveStatus('ì €ì¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤: ' + error.message, true);
                } finally {
                    this.saveScoreBtn.disabled = false;
                }
            }

            showSaveStatus(message, isError = false) {
                this.saveStatus.textContent = message;
                this.saveStatus.classList.remove('hidden', 'error');
                if (isError) {
                    this.saveStatus.classList.add('error');
                }
            }

            async loadLeaderboard() {
                if (!this.supabase) {
                    this.leaderboardList.innerHTML = '<p style="font-size: 12px; color: #aaa;">Supabase ì„¤ì • í›„ ë¦¬ë”ë³´ë“œê°€ í‘œì‹œë©ë‹ˆë‹¤.</p>';
                    return;
                }

                try {
                    const { data, error } = await this.supabase
                        .from('game_history')
                        .select('player_name, score, level')
                        .order('score', { ascending: false })
                        .limit(10);

                    if (error) throw error;

                    if (!data || data.length === 0) {
                        this.leaderboardList.innerHTML = '<p style="font-size: 12px; color: #aaa;">ì•„ì§ ê¸°ë¡ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                        return;
                    }

                    this.leaderboardList.innerHTML = data.map((item, index) => {
                        const isCurrentScore = item.player_name === this.playerName && item.score === this.score;
                        return `
                            <div class="leaderboard-item ${isCurrentScore ? 'highlight' : ''}">
                                <span class="rank">${index + 1}</span>
                                <span class="name">${this.escapeHtml(item.player_name)}</span>
                                <span class="score">${item.score}ì </span>
                            </div>
                        `;
                    }).join('');
                } catch (error) {
                    console.error('ë¦¬ë”ë³´ë“œ ë¡œë“œ ì˜¤ë¥˜:', error);
                    this.leaderboardList.innerHTML = '<p style="font-size: 12px; color: #ff6b6b;">ë¦¬ë”ë³´ë“œë¥¼ ë¶ˆëŸ¬ì˜¬ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</p>';
                }
            }

            escapeHtml(text) {
                const div = document.createElement('div');
                div.textContent = text;
                return div.innerHTML;
            }

            startGame() {
                this.score = 0;
                this.lives = 3;
                this.level = 1;
                this.combo = 0;
                this.activeWords = [];
                this.isPlaying = true;

                this.updateDisplay();
                this.clearWords();

                this.startScreen.classList.add('hidden');
                this.gameOverScreen.classList.add('hidden');
                this.typingInput.value = '';
                this.typingInput.focus();

                this.gameLoop = setInterval(() => this.update(), 50);
                this.spawnLoop = setInterval(() => this.spawnWord(), this.getSpawnInterval());

                setTimeout(() => this.spawnWord(), 500);
            }

            getSpawnInterval() {
                return Math.max(1500 - (this.level * 150), 600);
            }

            getFallSpeed() {
                return 0.5 + (this.level * 0.15);
            }

            getWordForLevel() {
                let pool;
                if (this.level <= 2) {
                    pool = words.slice(0, 30);
                } else if (this.level <= 4) {
                    pool = words.slice(0, 55);
                } else {
                    pool = words;
                }
                return pool[Math.floor(Math.random() * pool.length)];
            }

            spawnWord() {
                if (!this.isPlaying) return;

                const word = this.getWordForLevel();
                const wordElement = document.createElement('div');
                wordElement.className = 'word';
                wordElement.textContent = word;
                wordElement.dataset.word = word;

                const maxX = this.gameArea.clientWidth - 150;
                const x = Math.random() * maxX + 20;

                wordElement.style.left = x + 'px';
                wordElement.style.top = '-50px';

                this.gameArea.appendChild(wordElement);
                this.activeWords.push({
                    element: wordElement,
                    word: word,
                    y: -50
                });
            }

            update() {
                if (!this.isPlaying) return;

                const dangerY = this.gameArea.clientHeight - 100;
                const fallSpeed = this.getFallSpeed();

                for (let i = this.activeWords.length - 1; i >= 0; i--) {
                    const wordObj = this.activeWords[i];
                    wordObj.y += fallSpeed;
                    wordObj.element.style.top = wordObj.y + 'px';

                    if (wordObj.y > dangerY) {
                        this.removeWord(i);
                        this.loseLife();
                    }
                }

                // ë ˆë²¨ì—… ì²´í¬
                const newLevel = Math.floor(this.score / 100) + 1;
                if (newLevel > this.level) {
                    this.level = newLevel;
                    this.levelDisplay.textContent = this.level;

                    clearInterval(this.spawnLoop);
                    this.spawnLoop = setInterval(() => this.spawnWord(), this.getSpawnInterval());

                    this.showCombo('ë ˆë²¨ ì—…!');
                }
            }

            checkInput(input) {
                if (!this.isPlaying) return;

                const lowerInput = input.toLowerCase();

                for (let i = 0; i < this.activeWords.length; i++) {
                    const wordObj = this.activeWords[i];
                    const word = wordObj.word.toLowerCase();

                    if (word === lowerInput) {
                        // ì •ë‹µ!
                        this.combo++;
                        const comboBonus = Math.floor(this.combo / 3);
                        const points = 10 + (wordObj.word.length * 2) + (comboBonus * 5);
                        this.score += points;

                        wordObj.element.classList.add('matched');
                        this.createEffect(wordObj.element);

                        if (this.combo > 0 && this.combo % 3 === 0) {
                            this.showCombo(`${this.combo} ì½¤ë³´!`);
                        }

                        setTimeout(() => {
                            this.removeWord(i);
                        }, 150);

                        this.typingInput.value = '';
                        this.updateDisplay();
                        return;
                    } else if (word.startsWith(lowerInput) && lowerInput.length > 0) {
                        wordObj.element.classList.add('partial');
                    } else {
                        wordObj.element.classList.remove('partial');
                    }
                }
            }

            createEffect(element) {
                const rect = element.getBoundingClientRect();
                const gameRect = this.gameArea.getBoundingClientRect();

                for (let i = 0; i < 8; i++) {
                    const particle = document.createElement('div');
                    particle.className = 'effect';
                    particle.style.left = (rect.left - gameRect.left + rect.width / 2) + 'px';
                    particle.style.top = (rect.top - gameRect.top + rect.height / 2) + 'px';
                    particle.style.width = '10px';
                    particle.style.height = '10px';
                    particle.style.background = '#4ade80';
                    particle.style.borderRadius = '50%';
                    this.gameArea.appendChild(particle);

                    setTimeout(() => particle.remove(), 500);
                }
            }

            showCombo(text) {
                const comboEl = document.createElement('div');
                comboEl.className = 'combo';
                comboEl.textContent = text;
                this.gameArea.appendChild(comboEl);

                setTimeout(() => comboEl.remove(), 1000);
            }

            removeWord(index) {
                if (this.activeWords[index]) {
                    this.activeWords[index].element.remove();
                    this.activeWords.splice(index, 1);
                }
            }

            clearWords() {
                this.activeWords.forEach(w => w.element.remove());
                this.activeWords = [];
            }

            loseLife() {
                this.lives--;
                this.combo = 0;
                this.updateDisplay();

                if (this.lives <= 0) {
                    this.gameOver();
                }
            }

            updateDisplay() {
                this.scoreDisplay.textContent = this.score;
                this.levelDisplay.textContent = this.level;
                this.livesDisplay.textContent = 'â™¥'.repeat(this.lives) + 'â™¡'.repeat(3 - this.lives);
            }

            gameOver() {
                this.isPlaying = false;
                clearInterval(this.gameLoop);
                clearInterval(this.spawnLoop);

                // ì…ë ¥ í•„ë“œ ì´ˆê¸°í™”
                this.typingInput.value = '';

                if (this.score > this.highScore) {
                    this.highScore = this.score;
                    localStorage.setItem('typingGameHighScore', this.highScore);
                }

                this.finalScoreDisplay.textContent = this.score;
                this.highScoreDisplay.textContent = this.highScore;

                // ì €ì¥ ìƒíƒœ ì´ˆê¸°í™”
                this.saveStatus.classList.add('hidden');
                this.saveScoreBtn.disabled = false;

                // ë¦¬ë”ë³´ë“œ ë¡œë“œ
                this.loadLeaderboard();

                this.gameOverScreen.classList.remove('hidden');
            }
        }

        // ê²Œì„ ì‹œì‘
        const game = new TypingGame();
    </script>
</body>
</html>
